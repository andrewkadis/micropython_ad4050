<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Analog Devices EV-COG-AD4050LZ Board Support Package Documentation: ADP5300 Driver</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Analog Devices EV-COG-AD4050LZ Board Support Package Documentation
   &#160;<span id="projectnumber">Release 3.1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">ADP5300 Driver</div>  </div>
</div><!--header-->
<div class="contents">

<p>Driver for the ADP5300 Voltage Regulator.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga909e1f1ea6e0ad0808139a729362c37c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___a_d_p5300___driver.html#ga909e1f1ea6e0ad0808139a729362c37c">ADI_VOUTOK_IRQ_GROUP</a>&#160;&#160;&#160;(ADI_GPIO_INTA_IRQ)</td></tr>
<tr class="separator:ga909e1f1ea6e0ad0808139a729362c37c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:gaba59380676fd7696ad73790e7d900b73"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___a_d_p5300___driver.html#gaba59380676fd7696ad73790e7d900b73">ADI_ADP5300_MODE</a> { <a class="el" href="group___a_d_p5300___driver.html#ggaba59380676fd7696ad73790e7d900b73af9bd6daac3008879179a16908e2d935b">ADI_ADP5300_MODE_HYSTERESIS</a>, 
<a class="el" href="group___a_d_p5300___driver.html#ggaba59380676fd7696ad73790e7d900b73a40f1035658c83d31695b38567d7197e8">ADI_ADP5300_MODE_PWM</a>
 }<tr class="memdesc:gaba59380676fd7696ad73790e7d900b73"><td class="mdescLeft">&#160;</td><td class="mdescRight">ADP5300 operational modes.  <a href="group___a_d_p5300___driver.html#gaba59380676fd7696ad73790e7d900b73">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:gaba59380676fd7696ad73790e7d900b73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafbf400430a2f282f08f781f46c0db6be"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___a_d_p5300___driver.html#gafbf400430a2f282f08f781f46c0db6be">ADI_ADP5300_SWITCHING</a> { <a class="el" href="group___a_d_p5300___driver.html#ggafbf400430a2f282f08f781f46c0db6bea50a1df29c1e3c146d0158a18f0bc0a73">ADI_ADP5300_SWITCHING_STOP</a>, 
<a class="el" href="group___a_d_p5300___driver.html#ggafbf400430a2f282f08f781f46c0db6bea052c4b11c999f97a51bf7921732cdde4">ADI_ADP5300_SWITCHING_RESUME</a>
 }<tr class="memdesc:gafbf400430a2f282f08f781f46c0db6be"><td class="mdescLeft">&#160;</td><td class="mdescRight">ADP5300 switching modes.  <a href="group___a_d_p5300___driver.html#gafbf400430a2f282f08f781f46c0db6be">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:gafbf400430a2f282f08f781f46c0db6be"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga7bb9b71868f0db01834b3d0043cbddc0"><td class="memItemLeft" align="right" valign="top">ADI_GPIO_RESULT&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___a_d_p5300___driver.html#ga7bb9b71868f0db01834b3d0043cbddc0">adi_adp5300_Init</a> ()</td></tr>
<tr class="memdesc:ga7bb9b71868f0db01834b3d0043cbddc0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the ADP5300.  <a href="#ga7bb9b71868f0db01834b3d0043cbddc0">More...</a><br /></td></tr>
<tr class="separator:ga7bb9b71868f0db01834b3d0043cbddc0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga19973ecc3e975d692889ec5f6e203768"><td class="memItemLeft" align="right" valign="top">ADI_GPIO_RESULT&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___a_d_p5300___driver.html#ga19973ecc3e975d692889ec5f6e203768">adi_adp5300_SetMode</a> (<a class="el" href="group___a_d_p5300___driver.html#gaba59380676fd7696ad73790e7d900b73">ADI_ADP5300_MODE</a> eMode)</td></tr>
<tr class="memdesc:ga19973ecc3e975d692889ec5f6e203768"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the mode of the ADP5300.  <a href="#ga19973ecc3e975d692889ec5f6e203768">More...</a><br /></td></tr>
<tr class="separator:ga19973ecc3e975d692889ec5f6e203768"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab8f4bc3b7d93da7067253699a4bbc7b8"><td class="memItemLeft" align="right" valign="top">ADI_GPIO_RESULT&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___a_d_p5300___driver.html#gab8f4bc3b7d93da7067253699a4bbc7b8">adi_adp5300_SetSwitching</a> (<a class="el" href="group___a_d_p5300___driver.html#gafbf400430a2f282f08f781f46c0db6be">ADI_ADP5300_SWITCHING</a> bState)</td></tr>
<tr class="memdesc:gab8f4bc3b7d93da7067253699a4bbc7b8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the switching state of the ADP5300.  <a href="#gab8f4bc3b7d93da7067253699a4bbc7b8">More...</a><br /></td></tr>
<tr class="separator:gab8f4bc3b7d93da7067253699a4bbc7b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga78fd8ffe2d47b4fe0f63c102488eb39f"><td class="memItemLeft" align="right" valign="top">ADI_GPIO_RESULT&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___a_d_p5300___driver.html#ga78fd8ffe2d47b4fe0f63c102488eb39f">adi_adp5300_EnableVoutokInt</a> (uint8_t bEnable)</td></tr>
<tr class="memdesc:ga78fd8ffe2d47b4fe0f63c102488eb39f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enable/disable the VOUTOK interrupt.  <a href="#ga78fd8ffe2d47b4fe0f63c102488eb39f">More...</a><br /></td></tr>
<tr class="separator:ga78fd8ffe2d47b4fe0f63c102488eb39f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3fa929b56a59755450b640219f6f74df"><td class="memItemLeft" align="right" valign="top">ADI_GPIO_RESULT&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___a_d_p5300___driver.html#ga3fa929b56a59755450b640219f6f74df">adi_adp5300_ReadVoutokState</a> (uint8_t *const pState)</td></tr>
<tr class="memdesc:ga3fa929b56a59755450b640219f6f74df"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read VOUTOK output pin.  <a href="#ga3fa929b56a59755450b640219f6f74df">More...</a><br /></td></tr>
<tr class="separator:ga3fa929b56a59755450b640219f6f74df"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Driver for the ADP5300 Voltage Regulator. </p>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ga909e1f1ea6e0ad0808139a729362c37c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga909e1f1ea6e0ad0808139a729362c37c">&#9670;&nbsp;</a></span>ADI_VOUTOK_IRQ_GROUP</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ADI_VOUTOK_IRQ_GROUP&#160;&#160;&#160;(ADI_GPIO_INTA_IRQ)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>&lt; GPIO Group interrupt for the VOUTOK pin. Needs to be a ADI_GPIO_IRQ enumeration. </p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="gaba59380676fd7696ad73790e7d900b73"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaba59380676fd7696ad73790e7d900b73">&#9670;&nbsp;</a></span>ADI_ADP5300_MODE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group___a_d_p5300___driver.html#gaba59380676fd7696ad73790e7d900b73">ADI_ADP5300_MODE</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>ADP5300 operational modes. </p>
<p>Buck regulator operational modes. PWM mode is a low noise mode and can be used when sampling noise sensitive peripherals. Hysteresis mode is high current but saves power. This can be used during non noise sensitive operations such as being in hibernate. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ggaba59380676fd7696ad73790e7d900b73af9bd6daac3008879179a16908e2d935b"></a>ADI_ADP5300_MODE_HYSTERESIS&#160;</td><td class="fielddoc"><p>Hysteresis mode. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggaba59380676fd7696ad73790e7d900b73a40f1035658c83d31695b38567d7197e8"></a>ADI_ADP5300_MODE_PWM&#160;</td><td class="fielddoc"><p>PWM mode. </p>
</td></tr>
</table>

</div>
</div>
<a id="gafbf400430a2f282f08f781f46c0db6be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafbf400430a2f282f08f781f46c0db6be">&#9670;&nbsp;</a></span>ADI_ADP5300_SWITCHING</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group___a_d_p5300___driver.html#gafbf400430a2f282f08f781f46c0db6be">ADI_ADP5300_SWITCHING</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>ADP5300 switching modes. </p>
<p>The ADP5300 includes a STOP input pin that can temporarily stop the regulator switching in hysteresis mode. When switching has stopped, a quiet system is acheived which is ideal for noise sensitive circuitry like a data conversion or data transmission. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ggafbf400430a2f282f08f781f46c0db6bea50a1df29c1e3c146d0158a18f0bc0a73"></a>ADI_ADP5300_SWITCHING_STOP&#160;</td><td class="fielddoc"><p>Stop switching. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggafbf400430a2f282f08f781f46c0db6bea052c4b11c999f97a51bf7921732cdde4"></a>ADI_ADP5300_SWITCHING_RESUME&#160;</td><td class="fielddoc"><p>Resume switching. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga78fd8ffe2d47b4fe0f63c102488eb39f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga78fd8ffe2d47b4fe0f63c102488eb39f">&#9670;&nbsp;</a></span>adi_adp5300_EnableVoutokInt()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ADI_GPIO_RESULT adi_adp5300_EnableVoutokInt </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>bEnable</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enable/disable the VOUTOK interrupt. </p>
<p>The ADP5300 has an output VOUTOK pin. When the regulated output voltage drops below 87% (typical) of its nominal output for a delay time greater than approximately 10 Âµs, the VOUTOK pin goes low. The MCU will be interrupted when this occurs to resume switching.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">bEnable</td><td>: Enable/Disable VOUTOK interrupt.<ul>
<li>1 : Enable IRQ.</li>
<li>0 : Disable IRQ.</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>ADI_GPIO_RESULT.<ul>
<li>ADI_GPIO_SUCCESS If successfully enabled the interrupt.</li>
<li>ADI_GPIO_NOT_INITIALIZED [D] If GPIO driver not yet initialized.</li>
<li>ADI_GPIO_INVALID_PINS [D] If the defined pins are invalid.</li>
</ul>
</dd></dl>
<dl class="section note"><dt>Note</dt><dd>This ADP5300 drivers owns the callback for this interrupt. When the VOUTOK pin drops below the threshold, the driver will be notified and will resume switching automatically. </dd></dl>

</div>
</div>
<a id="ga7bb9b71868f0db01834b3d0043cbddc0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7bb9b71868f0db01834b3d0043cbddc0">&#9670;&nbsp;</a></span>adi_adp5300_Init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ADI_GPIO_RESULT adi_adp5300_Init </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the ADP5300. </p>
<p>This function sets up the GPIO STOP and SYNC/MODE pins as MCU outputs and VOUTOK as a GPIO input. It also sets the mode to hysteresis and resumes regulator switching.</p>
<dl class="section return"><dt>Returns</dt><dd>ADI_GPIO_RESULT.<ul>
<li>ADI_GPIO_SUCCESS If successfully initialized.</li>
<li>ADI_GPIO_NOT_INITIALIZED [D] If GPIO driver not yet initialized.</li>
<li>ADI_GPIO_INVALID_PINS [D] If the defined pins are invalid.</li>
</ul>
</dd></dl>
<dl class="section note"><dt>Note</dt><dd>adi_gpio_init() needs to be called before this function can be called as this driver uses the gpio. </dd></dl>

</div>
</div>
<a id="ga3fa929b56a59755450b640219f6f74df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3fa929b56a59755450b640219f6f74df">&#9670;&nbsp;</a></span>adi_adp5300_ReadVoutokState()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ADI_GPIO_RESULT adi_adp5300_ReadVoutokState </td>
          <td>(</td>
          <td class="paramtype">uint8_t *const&#160;</td>
          <td class="paramname"><em>pState</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read VOUTOK output pin. </p>
<p>The ADP5300 has an output VOUTOK pin. When the regulated output voltage drops below 87% (typical) of its nominal output for a delay time greater than approximately 10 Âµs, the VOUTOK pin goes low. This function reads the status of that pin.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">pState</td><td>: State of the VOUTOK pin.<ul>
<li>1 : VOUTOK high.</li>
<li>0 : VOUTOK low.</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>ADI_GPIO_RESULT.<ul>
<li>ADI_GPIO_SUCCESS If successfully read the pin state.</li>
<li>ADI_GPIO_NOT_INITIALIZED [D] If GPIO driver not yet initialized.</li>
<li>ADI_GPIO_INVALID_PINS [D] If the defined pins are invalid. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="ga19973ecc3e975d692889ec5f6e203768"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga19973ecc3e975d692889ec5f6e203768">&#9670;&nbsp;</a></span>adi_adp5300_SetMode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ADI_GPIO_RESULT adi_adp5300_SetMode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___a_d_p5300___driver.html#gaba59380676fd7696ad73790e7d900b73">ADI_ADP5300_MODE</a>&#160;</td>
          <td class="paramname"><em>eMode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the mode of the ADP5300. </p>
<p>The ADP5300 includes a SYNC/MODE pin to allow flexible mode configuration. In PWM mode, the regulator can supply lower output noise for noise sensitive applications. In hysteresis mode, the regualtor can act as a keep-alive power supply in a battery powered system, but with a relatively high output ripple.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">eMode</td><td>: Mode to set the ADP5300.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>ADI_GPIO_RESULT.<ul>
<li>ADI_GPIO_SUCCESS If successfully set the mode.</li>
<li>ADI_GPIO_NOT_INITIALIZED [D] If GPIO driver not yet initialized.</li>
<li>ADI_GPIO_INVALID_PINS [D] If the defined pins are invalid. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="gab8f4bc3b7d93da7067253699a4bbc7b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab8f4bc3b7d93da7067253699a4bbc7b8">&#9670;&nbsp;</a></span>adi_adp5300_SetSwitching()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ADI_GPIO_RESULT adi_adp5300_SetSwitching </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___a_d_p5300___driver.html#gafbf400430a2f282f08f781f46c0db6be">ADI_ADP5300_SWITCHING</a>&#160;</td>
          <td class="paramname"><em>bState</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the switching state of the ADP5300. </p>
<p>The ADP5300 has an input STOP pin that can temporarily stop regulator switching in hystersis mode, forcing the regulator to rely on the output capacitor to supply the load. In this period, a quiet system can be acheived which benefits noise sensitive circuitry like an rf transmission or analog sensing. Note: Swithing takes 10's of nanoseconds to fully stop.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">bState</td><td>: Switching state to set the ADP5300.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>ADI_GPIO_RESULT.<ul>
<li>ADI_GPIO_SUCCESS If successfully set switching.</li>
<li>ADI_GPIO_NOT_INITIALIZED [D] If GPIO driver not yet initialized.</li>
<li>ADI_GPIO_INVALID_PINS [D] If the defined pins are invalid. </li>
</ul>
</dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
